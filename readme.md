## Визуализатор зависимостей пакетов Alpine Linux

### 1. Общее описание
**Dependency Visualizer** — это инструмент для визуализации зависимостей пакетов Alpine Linux на основе файла APKINDEX. Программа парсит файл APKINDEX, строит граф зависимостей заданного пакета и визуализирует его с помощью диаграмм Mermaid.

### 2. Описание всех функций и настроек

Основные функции:

**parse_apkindex_content(content):**

    Описание: 
    Парсит содержимое файла APKINDEX и возвращает словарь с информацией о пакетах.

    Параметры:
    content (str): Содержимое файла APKINDEX.

    Возвращает:
    packages (dict): Словарь с информацией о пакетах.

**build_dependency_graph(packages, pkg_name, graph, visited, depth=0, max_depth=10):**

    Описание: 
    Рекурсивно строит граф зависимостей для заданного пакета.

    Параметры:
    packages (dict): Словарь с информацией о пакетах.
    pkg_name (str): Имя пакета, для которого строится граф.
    graph (list): Список ребер графа.
    visited (set): Множество посещенных пакетов для предотвращения циклических зависимостей.
    depth (int): Текущая глубина рекурсии.
    max_depth (int): Максимальная глубина рекурсии (по умолчанию 10).

    *Возвращает: None.*

**generate_mermaid_graph(graph):**

    Описание: 
    Генерирует код диаграммы Mermaid на основе графа зависимостей.

    Параметры:
    graph (list): Список ребер графа.

    Возвращает:
    mermaid (str): Код диаграммы Mermaid.

**visualize_graph(mermaid_code, renderer_path):**

    Описание: 
    Визуализирует граф зависимостей, создавая изображение на основе кода Mermaid.

    Параметры:
    mermaid_code (str): Код диаграммы Mermaid.
    renderer_path (str): Путь к программе рендеринга (например, mmdc).

### Настройки:
    --renderer: Путь к программе рендеринга Mermaid (например, mmdc).
    --package: Имя пакета, для которого необходимо построить граф зависимостей.
    max_depth: Максимальная глубина рекурсии при построении графа (по умолчанию 10). Можно изменить в коде функции build_dependency_graph.

### 3. Описание команд для сборки проекта

**Требования:**
    Python 3.x
    Node.js (для установки Mermaid CLI)
    Mermaid CLI (mmdc)

**Установка зависимостей:**
    Установите Mermaid CLI:

    ```
    npm install -g @mermaid-js/mermaid-cli
    ```

**Установите pytest для запуска тестов:**

    ```
    pip install pytest
    ```

**Сборка проекта:**
    Клонируйте репозиторий или скопируйте файлы dependency_visualizer.py, APKINDEX, и test_dependency_visualizer.py в рабочую директорию.

    Скачайте файл APKINDEX

### 4. Примеры использования
    1. Построение графа зависимостей для конкретного пакета

    Команда:

    python dependency_visualizer.py --renderer mmdc --package package-1000
    
    Результат:
    Будет сгенерирован файл graph.png с визуализацией графа зависимостей для package-1000.

    2. Просмотр графа зависимостей
    Откройте файл graph.png с помощью любого просмотра изображений или вставьте его в документ.

Пример графа:

(Примечание: Здесь должен быть приложен скриншот с примером графа.)

### 5. Результаты прогона тестов

    Запуск тестов:

    ```
    pytest test_dependency_visualizer.py
    ```

    Вывод:

    ```
    =========================== test session starts ===========================
    collected 2 items

    test_dependency_visualizer.py ..                                     [100%]

    ============================ 2 passed in X.XXs ============================
    ```

    Все тесты успешно проходят, что подтверждает корректную работу основных функций программы.

### Заключение
Данная программа позволяет визуализировать зависимости пакетов Alpine Linux, что может быть полезно для анализа и понимания структуры зависимостей в системе.

Ссылка на git-репозиторий: <https://github.com/e-and-a/Config-2>





